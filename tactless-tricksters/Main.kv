#:import IconLeftWidget kivymd.uix.list.IconLeftWidget
#:import NoTransition kivy.uix.screenmanager.NoTransition

# Drawer layout

<NavigationItem>
    theme_text_color: 'Custom'
    divider: None
    on_release: app.navigate(self.text)

    IconLeftWidget:
        icon: root.icon
        
<ContentNavigationDrawer@BoxLayout>

    BoxLayout:
        orientation: 'vertical'

        FloatLayout:
            size_hint_y: None
            height: "200dp"

            canvas:
                Color:
                    rgba: app.theme_cls.primary_color
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                id: top_box
                size_hint_y: None
                height: "200dp"
                x: root.parent.x
                pos_hint: {"top": 1}

                FitImage:
                    source: 'ui/img/nav_drawer_logo.png'

            MDIconButton:
                icon: "close"
                x: root.parent.x + dp(10)
                pos_hint: {"top": 1}
                on_release: root.parent.toggle_nav_drawer()

            MDLabel:
                markup: True
                text: "[b]Morse app's name"
                x: root.parent.x + dp(10)
                y: root.height - top_box.height + dp(10)
                size_hint_y: None
                height: self.texture_size[1]

        ScrollView:
            pos_hint: {"top": 1}

            GridLayout:
                id: box_item
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                
                NavigationItem:
                	text: "Home"
					icon: "home"
                
                NavigationItem:
                	text: "Decode"
					icon: "database-export"
					
				NavigationItem:
					text: "Encode"
					icon: "database-import"
                	
                NavigationItem:
					text: "Sign In"
					icon: "login-variant"
					
				NavigationItem:
					text: "Calibrate"
					icon: "cogs"
					
				NavigationItem:
					text: "Train"
					icon: "database-export"
					
				NavigationItem:
					text: "Exit"
					icon: "exit-to-app"
                	

# -----------------------------------------------------------------------------------
# Begin Welcome Screen Widgets

<WelcomeBtn@MDRectangleFlatIconButton>:
	theme_text_color: "Custom"
	text_color: 1, 1, 1, 1
	md_bg_color: app.theme_cls.primary_color


<AppLayout>:
	canvas.before:
		BorderImage:
			source: 'ui/img/bur_welcome.jpg'
			size: self.size
			pos: self.pos
	
	Screen:
		NavigationLayout:
			
			ScreenManager:
				id: screen_manager
				transition: NoTransition()
				
				Screen:
					name: "Home"
					
					FloatLayout:
						FloatLayout:
							size_hint: .8, .7
							pos_hint: {'center_x': .5,'center_y': .5}
				
							canvas.before:
								Color:
									rgba: 0, 0, 0, 0
								RoundedRectangle:
									size: self.size
									pos: self.pos
									radius: dp(10), dp(10), dp(10), dp(10)
						
							BoxLayout:
								orientation: 'vertical'
								size_hint: .8, .8
								pos_hint: {'center_x': .5,'center_y': .5}
			
								Label:
									text: 'Welcome'
									color: 1, 1, 1, 1 #app.theme_cls.primary_color
									font_size: dp(50)
									font_name: 'font'
									size_hint_y: .2
					
								Widget:
									size_hint_y: .05
				
								GridLayout:
									cols: 2
									size_hint_y: .7
									spacing: dp(10)
									padding: dp(5)
				
									WelcomeBtn:
										size_hint: 1, 1
										text: "Decode"
										icon: "database-export"
										on_release: root.go_to_nav()
					
									WelcomeBtn:
										size_hint: 1, 1
										text: "Encode"
										icon: "database-import"
					
									WelcomeBtn:
										size_hint: 1, 1
										text: "Sign In"
										icon: "login-variant"
	
					
									WelcomeBtn:
										size_hint: 1, 1
										text: "Calibrate"
										icon: "cogs"
		
					
									WelcomeBtn:
										size_hint: 1, 1
										text: "Train"
										icon: "database-export"
	
					
									WelcomeBtn:
										size_hint: 1, 1
										text: "Exit"
										icon: "exit-to-app"
										
						MDIconButton:
							icon: 'menu'
							pos_hint: {'top': 1}
							theme_text_color: "Custom"
							text_color: 1, 1, 1, 1
							on_release: root.ids.nav_drawer.toggle_nav_drawer()
							
				Screen:
					name: 'Decode'
					
					BoxLayout:
						Label:
							text: 'Decode'
							
			MDNavigationDrawer:
				id: nav_drawer
				
				ContentNavigationDrawer:
			
		
